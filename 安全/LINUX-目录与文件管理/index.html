
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../JBoss%205.x6.x%20%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%EF%BC%88CVE-2017-12149%EF%BC%89/">
      
      
        <link rel="next" href="../Linux%E7%A7%81%E9%92%A5%E6%B3%84%E9%9C%B2%E4%B8%8E%E5%88%A9%E7%94%A8/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.14">
    
    
      
        <title>LINUX 目录与文件管理 - 陈奕霖</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.85bb2934.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a6bdf11c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="red">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="陈奕霖" class="md-header__button md-logo" aria-label="陈奕霖" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            陈奕霖
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              LINUX 目录与文件管理
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="陈奕霖" class="md-nav__button md-logo" aria-label="陈奕霖" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    陈奕霖
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Welcome to MkDocs
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          C与c++
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          C与c++
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../c%E4%B8%8Ec%2B%2B/1_%E5%88%9D%E5%A7%8BC%E8%AF%AD%E8%A8%80/" class="md-nav__link">
        1 初始C语言
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../c%E4%B8%8Ec%2B%2B/2_%E5%BE%AA%E7%8E%AF%E4%BD%93/" class="md-nav__link">
        2 循环体
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../c%E4%B8%8Ec%2B%2B/3_%E6%95%B0%E7%BB%84/" class="md-nav__link">
        3 数组
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../c%E4%B8%8Ec%2B%2B/4_%E6%93%8D%E4%BD%9C%E7%AC%A6/" class="md-nav__link">
        4 操作符
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../c%E4%B8%8Ec%2B%2B/5_%E5%87%BD%E6%95%B0/" class="md-nav__link">
        5 函数
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../c%E4%B8%8Ec%2B%2B/6_%E5%B8%B8%E8%A7%81%E5%85%B3%E9%94%AE%E5%AD%97/" class="md-nav__link">
        6 常见关键字
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../c%E4%B8%8Ec%2B%2B/7%20_define%E5%AE%9A%E4%B9%89%E5%B8%B8%E9%87%8F%E5%92%8C%E5%AE%8F/" class="md-nav__link">
        7  define定义常量和宏
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../c%E4%B8%8Ec%2B%2B/8_%E6%8C%87%E9%92%88/" class="md-nav__link">
        8 指针
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../c%E4%B8%8Ec%2B%2B/9_%E7%BB%93%E6%9E%84%E4%BD%93/" class="md-nav__link">
        9 结构体
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          安全
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          安全
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Apache%20SSI%20%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" class="md-nav__link">
        Apache SSI 远程命令执行漏洞
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Apache%20Solr%20%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%EF%BC%88CVE-2017-12629%EF%BC%89/" class="md-nav__link">
        Apache Solr 远程命令执行漏洞（CVE 2017 12629）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Apereo%20CAS%204.1%20%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" class="md-nav__link">
        Apereo CAS 4.1 反序列化命令执行漏洞
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Aythor_kira/" class="md-nav__link">
        Aythor kira
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../CVE-2020-14882%2614883%20weblogic%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6%B4%9E/" class="md-nav__link">
        CVE 2020 14882&14883 weblogic未授权访问漏洞
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../CentOS7%20%E5%AE%89%E8%A3%85%E5%AE%9D%E5%A1%94%2B%E5%AE%89%E5%85%A8%E7%8B%97/" class="md-nav__link">
        CentOS7 安装宝塔+安全狗
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../DNS%E5%9F%9F%E4%BC%A0%E9%80%81%E6%BC%8F%E6%B4%9E/" class="md-nav__link">
        DNS域传送漏洞
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Dr4g0n%20b4ll%201/" class="md-nav__link">
        Dr4g0n b4ll 1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Drupal%20%E8%BF%9C%E7%A8%8B%E4%BB%A33.%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%EF%BC%88CVE-2019-6339%EF%BC%89/" class="md-nav__link">
        Drupal 远程代3.码执行漏洞（CVE 2019 6339）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Funbox%20Scriptkiddie/" class="md-nav__link">
        Funbox Scriptkiddie
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Gigachad%201/" class="md-nav__link">
        Gigachad 1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../JBoss%205.x6.x%20%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%EF%BC%88CVE-2017-12149%EF%BC%89/" class="md-nav__link">
        JBoss 5.x6.x 反序列化漏洞（CVE 2017 12149）
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          LINUX 目录与文件管理
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        LINUX 目录与文件管理
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    系统目录结构:
  </a>
  
    <nav class="md-nav" aria-label="系统目录结构:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    常用目录：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    文件名规则
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    终端中常用快捷键:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ls" class="md-nav__link">
    Ls  列出目录内容：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    必会命令学习
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    单词表：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etcpasswd" class="md-nav__link">
    /etc/passwd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etcshadow" class="md-nav__link">
    /etc/shadow
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    文件与目录管理：
  </a>
  
    <nav class="md-nav" aria-label="文件与目录管理：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    1.绝对路径和相对路径：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    用户、组与权限管理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    用户管理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    当前登录用户
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    端口开放情况：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    常规安全配置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#umask" class="md-nav__link">
    Umask
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bash" class="md-nav__link">
    bash历史命令
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    登录超时：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root" class="md-nav__link">
    Root路径：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    禁用无用账号：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    检查特殊账号：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    口令复杂度策略
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root_1" class="md-nav__link">
    限制root远程登录
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#su" class="md-nav__link">
    限制用户su
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grublilo" class="md-nav__link">
    检查Grub/Lilo密码
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#snmp" class="md-nav__link">
    SNMP团体字
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    弱口令审计
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    服务信息
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh" class="md-nav__link">
    检查SSH服务
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp-wrapper" class="md-nav__link">
    TCP Wrapper
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nfs" class="md-nav__link">
    NFS共享
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#syslogd" class="md-nav__link">
    Syslogd认证相关记录
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ctrlaltdel" class="md-nav__link">
    限制ctrl+alt+del命令
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    服务/进程安全
  </a>
  
    <nav class="md-nav" aria-label="服务/进程安全">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    关闭不必要的服务：
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    网络配置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    自定义规则
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    日志审计安全
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message" class="md-nav__link">
    message日志：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    安全工具
  </a>
  
    <nav class="md-nav" aria-label="安全工具">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    分析工具
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grep" class="md-nav__link">
    grep命令的使用
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    弱口令审计
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    后门程序检测
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#windows" class="md-nav__link">
    二、windows系统安全
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#window" class="md-nav__link">
    window系统安全基础
  </a>
  
    <nav class="md-nav" aria-label="window系统安全基础">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    常用命令
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#net-user" class="md-nav__link">
    账号相关命令之net user:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    账户安全
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Linux%E7%A7%81%E9%92%A5%E6%B3%84%E9%9C%B2%E4%B8%8E%E5%88%A9%E7%94%A8/" class="md-nav__link">
        Linux私钥泄露与利用
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Log4j-2%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/" class="md-nav__link">
        Log4j 2命令执行
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Metasploit%E8%BE%85%E5%8A%A9%E6%A8%A1%E5%9D%97/" class="md-nav__link">
        Metasploit辅助模块
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Nginx%20%E8%A7%A3%E6%9E%90%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/" class="md-nav__link">
        Nginx 解析漏洞复现
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../PHP%E5%BA%8F%E5%88%97%E5%8C%96%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" class="md-nav__link">
        PHP序列化和反序列化
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Php%20imap%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%EF%BC%88CVE-2018-19518%EF%BC%89/" class="md-nav__link">
        Php imap远程命令执行漏洞（CVE 2018 19518）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../PostgreSQL%20%E9%AB%98%E6%9D%83%E9%99%90%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%EF%BC%88CVE-2019-9193%EF%BC%89/" class="md-nav__link">
        PostgreSQL 高权限命令执行漏洞（CVE 2019 9193）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../RCE/" class="md-nav__link">
        RCE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Shiro%20%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81%E7%BB%95%E8%BF%87%20%EF%BC%88CVE-2020-13933/" class="md-nav__link">
        Shiro 身份验证绕过 （CVE 2020 13933
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Tomcat%20%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%20%28CVE-2017-12615%29%20/" class="md-nav__link">
        Tomcat 文件上传 (CVE 2017 12615) 
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Vulnhub%20Tomato%E9%9D%B6%E6%9C%BA%E6%B8%97%E9%80%8F/" class="md-nav__link">
        Vulnhub Tomato靶机渗透
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../XSS%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/" class="md-nav__link">
        XSS漏洞利用
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../XXE/" class="md-nav__link">
        XXE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../driftingblues7_vh/" class="md-nav__link">
        Driftingblues7 vh
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mongo-express%20%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%EF%BC%88CVE-2019-10758%EF%BC%89/" class="md-nav__link">
        mongo express 远程代码执行漏洞（CVE 2019 10758）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../msf%E6%8A%93%E5%8C%85/" class="md-nav__link">
        Msf抓包
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../narak/" class="md-nav__link">
        Narak
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rsync%20%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6%B4%9E/" class="md-nav__link">
        Rsync 未授权访问漏洞
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../shiro%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%28CVE-2016-4437%29/" class="md-nav__link">
        shiro反序列化漏洞(CVE 2016 4437)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../varlog%E7%9B%AE%E5%BD%95%E4%B8%8B%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6/" class="md-nav__link">
        Varlog目录下日志文件
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vulhub_Lame/" class="md-nav__link">
        vulhub Lame
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%8E%9F%E7%90%86%E5%8F%8A%E7%BB%95%E8%BF%87/" class="md-nav__link">
        文件上传原理及绕过
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C/" class="md-nav__link">
        远程代码执行
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    系统目录结构:
  </a>
  
    <nav class="md-nav" aria-label="系统目录结构:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    常用目录：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    文件名规则
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    终端中常用快捷键:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ls" class="md-nav__link">
    Ls  列出目录内容：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    必会命令学习
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    单词表：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etcpasswd" class="md-nav__link">
    /etc/passwd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etcshadow" class="md-nav__link">
    /etc/shadow
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    文件与目录管理：
  </a>
  
    <nav class="md-nav" aria-label="文件与目录管理：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    1.绝对路径和相对路径：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    用户、组与权限管理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    用户管理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    当前登录用户
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    端口开放情况：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    常规安全配置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#umask" class="md-nav__link">
    Umask
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bash" class="md-nav__link">
    bash历史命令
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    登录超时：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root" class="md-nav__link">
    Root路径：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    禁用无用账号：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    检查特殊账号：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    口令复杂度策略
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root_1" class="md-nav__link">
    限制root远程登录
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#su" class="md-nav__link">
    限制用户su
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grublilo" class="md-nav__link">
    检查Grub/Lilo密码
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#snmp" class="md-nav__link">
    SNMP团体字
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    弱口令审计
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    服务信息
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh" class="md-nav__link">
    检查SSH服务
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp-wrapper" class="md-nav__link">
    TCP Wrapper
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nfs" class="md-nav__link">
    NFS共享
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#syslogd" class="md-nav__link">
    Syslogd认证相关记录
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ctrlaltdel" class="md-nav__link">
    限制ctrl+alt+del命令
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    服务/进程安全
  </a>
  
    <nav class="md-nav" aria-label="服务/进程安全">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    关闭不必要的服务：
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    网络配置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    自定义规则
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    日志审计安全
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message" class="md-nav__link">
    message日志：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    安全工具
  </a>
  
    <nav class="md-nav" aria-label="安全工具">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    分析工具
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grep" class="md-nav__link">
    grep命令的使用
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    弱口令审计
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    后门程序检测
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#windows" class="md-nav__link">
    二、windows系统安全
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#window" class="md-nav__link">
    window系统安全基础
  </a>
  
    <nav class="md-nav" aria-label="window系统安全基础">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    常用命令
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#net-user" class="md-nav__link">
    账号相关命令之net user:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    账户安全
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>LINUX 目录与文件管理</h1>

<h3 id="_1">系统目录结构:</h3>
<h4 id="_2">常用目录：</h4>
<p>bin/sbin/boot/home/root/dev/etc/lib64/media/run/mnt/tmp/usr/var</p>
<p>/bin</p>
<p>放置的是在单人模式下还能够被操作的指令。在/bin底下的指令可以被root与一般账号做使用。表示普通用户和系统用户都可以调用的指令</p>
<p>/sbin</p>
<p>系统用户和管理员用户可以调用的目录</p>
<p>/boot</p>
<p>这个目录主要在放置开机会使用道的文件，包括Linux核心文件以及开机选单与开机所需配置的文件等。</p>
<p>/dev</p>
<p>在Linux系统上，在任何装置与接口设备都是以文件的形态存在这个目录当中。存储设备文件以及特殊文件</p>
<p>/etc</p>
<p>系统启动，用户权限，应用程序等配置文件的主目录</p>
<p>系统主要的配置文件都放在这个目录当中，例如账号的密码文件、各种服务的起始档等</p>
<p>/home</p>
<p>这是系统默认的用户家目录（home directory）</p>
<p>/lib</p>
<p>启动时程序依赖的基本共享文件以及内核模块文件（/lib/modules）</p>
<p>放置的是在开机时会用到的函数库，以及在/bin或者/sbin底下的指令会呼叫的函数库。</p>
<p>/lib64</p>
<p>X86_64系统上的辅助共享文件存放位置</p>
<p>/media</p>
<p>RHEL6以及之前的操作系统，外接设备默认存放路径 /run/media/username/kingstone</p>
<p>底下放置的是可移除的装置，包括软盘、光盘、DVD等等装置都暂时挂载于此</p>
<p>/mnt</p>
<p>临时文件挂载点，建议将磁盘挂载到当前目录的子目录中使用</p>
<p>/opt</p>
<p>给第三方协议软件放置的目录</p>
<p>/root</p>
<p>系统管理员root的家目录</p>
<p>/sbin</p>
<p>放在/sbin底下的为开机过程中所需要的，里边包括开机、修复、还原系统所需要的指令。</p>
<p>/srv</p>
<p>可以视为service的缩写，是一些网路服务启动之后，这些服务所需要的取用的数据目录</p>
<p>/tmp</p>
<p>这是让一般使用者或者正在执行的程序暂时放置文件的地方。临时文件存放目录，主要针对系统用户</p>
<p>/sys:存放有关系统上的硬件信息</p>
<p>通过颜色辨别文件属性：</p>
<p><img alt="image-20230829153907311" src="../LINUX-%E7%9B%AE%E5%BD%95%E4%B8%8E%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86.assets/image-20230829153907311.png" /></p>
<p>命令 选项 参数</p>
<p>ls     -l  /boot</p>
<p>查看帮助时</p>
<p>1.有‘+’表示需要加上才格式正确 空格属于特殊符号 需要单引标注</p>
<p>2.有大写字母 表示必选项 否则无法执行</p>
<p>[] 可选项</p>
<p>... 列表  date +'%Y-%m-%d %H:%M:%S'</p>
<p>LOGIN 必选项</p>
<p>a|b|c 三选一</p>
<h4 id="_3">文件名规则</h4>
<p>1.文件名最长255个字节</p>
<p>2.包括路径在内文件名称最长4096个字节</p>
<p>3.除了/、，其他所有字符都生效，但使用特殊字符的文件名和目录不推荐使用，有些字</p>
<p>符需要用引号来引用它们。</p>
<h4 id="_4">终端中常用快捷键:</h4>
<p>Ctrl+Y：粘贴CTRL+U和CTRL+K剪切的内容</p>
<p>tab :自动补齐</p>
<p>CTRL+U：清空至行首</p>
<p>CTRL+K:清空至行尾</p>
<p>CTRL+L：请屏</p>
<p>CTRL+C：取消本次命令编辑</p>
<p>CTRL+A：光标移动到最前</p>
<p>CTRL+E :光标移到最后</p>
<p>\  :强制换行</p>
<p>CTRL+shift+t:在已经生成的终端中打开新的终端</p>
<p>CTRL+d:在终端无字符的状态下，结束当前终端(exit)</p>
<p>Ctrl+shift+"+":增大字符显示</p>
<p>CTRL+"-":缩小字符显示</p>
<p>CTRL+pagedown:多终端时向后翻页</p>
<p>CTRL+pageup:多终端时，向前翻页</p>
<p>Alt+number :根据终端位置，快速切换到数字对应的的终端</p>
<p>CTRL+shift+c:复制</p>
<p>CTRL+shift+v:粘贴</p>
<p>CTRL+S：暂停屏幕输出</p>
<p>CTRL+Q：恢复屏幕输出</p>
<h4 id="ls">Ls  列出目录内容：</h4>
<p>-l 以长格式形式查看文件或目录的详细信息(文件类型，权限，链接数，属主属组，文件大小、时间信息、文件名及路径)</p>
<p>-h 一人性化方式查看或者目录信息（1024）</p>
<p>-si 以1000为单位</p>
<p>-d 查看目录本身的属性，不加时查看的是目录中的子目录以及子文件</p>
<p>-t  按照时间顺序显示</p>
<p>-a 查看所有文件的目录（包括隐藏和非隐藏）</p>
<p>-R 递归式的查询目录中的子目录以及子文件</p>
<p>-S 从大到小顺序</p>
<p>-block-size=M(K/M/G/T/P/E/Z/Y)以什么作为单位大小</p>
<p>-d */只列出目录</p>
<p>-g/-G不显示所有者/所属信息</p>
<p>-color=never 不显示颜色 </p>
<p>-r 显示默认排列的反转顺序</p>
<p>-X （-sort=extension）扩展名排序，区分类型</p>
<p>-t 通过修改时间列出（新文件在前）</p>
<h4 id="_5">必会命令学习</h4>
<p>ls :列出目录内容</p>
<p>pwd:显示当前目录</p>
<p>cd：切换工作目录（绝对路径，相对路径）</p>
<p>touch：创建文件更新文件时间标记</p>
<p>mkdir：创建目录</p>
<p>rm：删除</p>
<p>mv:移动重命名</p>
<p>cp:拷贝</p>
<p>cat:产看文件内容</p>
<p>In:建立链接</p>
<p>Pwd 显示当前工作目录</p>
<p>cd 切换回工作目录 </p>
<p>cd .. 回到上一级目录</p>
<p>cd - 回到上一次工作目录</p>
<p>cd directory 切换到指定目录</p>
<p>ls :列出目录内容</p>
<p>pwd:显示当前目录</p>
<p>cd：切换工作目录（绝对路径，相对路径）</p>
<p>touch：创建文件更新文件时间标记</p>
<p>​      -a 仅修改“读取时间”atime</p>
<p>​      -m 仅修改 “修改时间”mtime</p>
<p>​      -d同时修改atime /mtime</p>
<p>mkdir：创建目录</p>
<p>-p 递归式创建目录及子目录</p>
<p>rm：删除</p>
<p>-r 递归式删除文件或目录</p>
<p>-f 强制删除</p>
<p>shred /boot/grub2/grub.cfg 把文件写成随机字符</p>
<p>mv:移动重命名(mv 源文件路径 目标路径)，为文件或目录重命名</p>
<p>-b 若存在同名文件，覆盖前备份原来的文件</p>
<p>-f 强制覆盖同名文件</p>
<p>find . -maxdepth 1 -type d | while read dir ; do count=$(find "$dir" -type f | wc -l); echo "$dir : $count"; done 查看目录中那个目录文件最多</p>
<p>cp:拷贝</p>
<p>cp源文件 目标路径</p>
<p>cp时，如果目标路径没有指定，默认保存为源文件名称</p>
<p>如果目标文件指定名称，则可以复制文件重命名</p>
<p>同时复制多个文件时，重命名无效</p>
<p>复制目录可以使用 “‘-r ”选项，将目录复制到指定路径下、、</p>
<p>-b 若存在同名文件，覆盖前备份原来的文件</p>
<p>-f 强制覆盖同名文件</p>
<p>-p 保留原始文件的属性</p>
<p>-d 若对象未链接文件，则保留该文件属性</p>
<p>-I 若目标存在则询问是否覆盖（默认存在）</p>
<p>-a 相当于-pdr参数</p>
<p>-R 按递归方式保留源目录结构复制文件</p>
<p>cp -b file1 file2   （yes）备份文件是在原名称之上加‘～’构成</p>
<p>cat:查看文件内容</p>
<p>-n 查看时显示行号</p>
<p>cat &gt;file创建文件夹（CTRL+d 在当前目录保存文件）</p>
<p>Cat file1 file2 &gt;newfile (合并文件) </p>
<p>In:建立链接（默认建立为硬件链接，-s选项表示创建软链接）</p>
<p>硬链接：源文件的副本，对于系统来说，文件始终是同一个文件</p>
<p>每创建一次文件的链接数就会加一，文件的节点数始终不变</p>
<p>当用户对任意硬件链接文件操作时，所有文件同时发生变化</p>
<p>软链接（符号链接）：源文件的快捷方式</p>
<p>“.”   当前目录</p>
<p>​     “..”  上一级目录</p>
<p>如何通过节点号获取所有相同节点号的文件信息</p>
<p>首先通过ls -li filename 获取”inode number“</p>
<p>然后创建硬连接到其他目录 ln filename /tmp/filetest</p>
<p>find / -inum “inode number”</p>
<h4 id="_6">单词表：</h4>
<p>Manual:手册</p>
<p>List:列表</p>
<p>Copy:复制</p>
<p>remove：删除</p>
<p>Move:移动</p>
<p>Directory:目录</p>
<p>Sysbolic符号的</p>
<p>Concatenate:链接</p>
<p>Executable:执行</p>
<p>-------------------------------------------------------------------------------------------</p>
<h4 id="etcpasswd">/etc/passwd</h4>
<p>Test: x:501:501:test user:/home/test:/bin/bash</p>
<p>Test:用户名</p>
<p>x：密码</p>
<p>501：UID</p>
<p>501：GID</p>
<p>test user:用户全名</p>
<p>/home/test：用户目录</p>
<p>/bin/bash：用户shell</p>
<p>[root@localhost etc]# cat passwd</p>
<p>root: x:0:0:root:/root:/bin/bash</p>
<p>bin:x :1:1:bin:/bin:/sbin/nologin</p>
<p>daemon: x:2:2:daemon:/sbin:/sbin/nologin</p>
<p>adm: x:3:4:adm:/var/adm:/sbin/nologin</p>
<p>lp:x :4:7:lp:/var/spool/lpd:/sbin/nologin</p>
<p>sync: x:5:0:sync:/sbin:/bin/sync</p>
<p>shutdown:x :6:0:shutdown:/sbin:/sbin/shutdown</p>
<p>halt: x:7:0:halt:/sbin:/sbin/halt</p>
<p>mail:x : 8:12:mail:/var/spool/mail:/sbin/nologin</p>
<p>operator:x :11:0:operator:/root:/sbin/nologin</p>
<p>games​ : x:12:100 :games:/usr/games:/sbin/nologin</p>
<p>ftp:x :14:50:FTP User:/var/ftp:/sbin/nologin</p>
<p>nobody: x:99:99:Nobody:/:/sbin/nologin</p>
<p>systemd-network:x :192:192:systemd Network Management:/:/sbin/nologin</p>
<table>
<thead>
<tr>
<th>UID</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>管理员</td>
</tr>
<tr>
<td>1</td>
<td>与例行系统任务相关联</td>
</tr>
<tr>
<td>2</td>
<td>系统管理任务守护进程账户，与运行系统二进制文件有关</td>
</tr>
<tr>
<td>3</td>
<td>系统管理任务守护进程账号，与系统日志或者更新临时文件有关</td>
</tr>
<tr>
<td>4</td>
<td>系统管理任务守护进程账号，与系统日志有关</td>
</tr>
<tr>
<td>71</td>
<td>行式打印机守护进程</td>
</tr>
<tr>
<td>5</td>
<td>与UUCP有关的守护进程账号</td>
</tr>
<tr>
<td>9</td>
<td>远程系统用此账号来登录到本机并开始文件传输</td>
</tr>
<tr>
<td>25</td>
<td>sendmail提交信息的守护进程账号</td>
</tr>
<tr>
<td>37</td>
<td>网络监听守护账号</td>
</tr>
<tr>
<td>60001</td>
<td>当授权的root用户发出一个请求时，NFS服务分配的匿名用户账号，nobody账号是用来给不需要任何专门权限的软件进程使用</td>
</tr>
<tr>
<td>60002</td>
<td>该账号用来给那些通过某种应用而不是系统登陆步骤来访问系统的用户或者进程使用</td>
</tr>
<tr>
<td>65534</td>
<td>Sunos4.0/4.1发布版本的用户账号</td>
</tr>
</tbody>
</table>
<p>-------------------------------------------------------------------------------------------</p>
<h4 id="etcshadow">/etc/shadow</h4>
<p>Test:$1$uw5nUrW8$ijfidhueiuoaewe:897:0:9999:7:::</p>
<p>用户名/密码/最后一次修改时间据1970-1-1的天数/密码使用天数/密码过期前几天提醒/密码过期后几天锁定/密码锁定时间据1970-1-1的时间</p>
<p>shadwo文件中MD5 HASH等算法</p>
<p>密码示例：</p>
<p>Root:$1$sjdjfhbhj/4kJ$HIdsffHds546fDd4K.:14838:0:99999:7:::</p>
<p>示例的密码域$1$sjdjfhbhj/4kJ$HIdsffHds546fDd4K.其实由三部分组成：</p>
<p>$id$salt$encrypted</p>
<p>其中id指的是加密算法，salt指的是随机数，encrypted是加密密文</p>
<p>id为1时，采用md5进行加密；id为5时采用SHA256进行加密；id为6时，采用SHA512进行加密</p>
<p>salt值时某个固定长度的随机字符串，也就是每次修改passwd之后，都是随机生成该字符串。</p>
<p>密文的得来是通过char <em>crypt(const char </em>key,const char *salt);来计算出来的。</p>
<p>root:$6$lvRqv2mkJcSwmPly$bXxnd7a8pw.p.h3eXoyyWj1kqryNH44QoLmby6kSbY5non3.r723hj89nSl2lluQ9Jvr.wlRyG66an3VPr5j2/::0:99999:7:::</p>
<p>bin:*:16925:0:99999:7:::</p>
<p>daemon:*:16925:0:99999:7:::</p>
<p>adm:*:16925:0:99999:7:::</p>
<p>lp:*:16925:0:99999:7:::</p>
<p>sync:*:16925:0:99999:7:::</p>
<p>shutdown:*:16925:0:99999:7:::</p>
<p>halt:*:16925:0:99999:7:::</p>
<p>-----------------------------------------------------------------------------------------------</p>
<h3 id="_7">文件与目录管理：</h3>
<h4 id="1">1.绝对路径和相对路径：</h4>
<p>绝对路径：</p>
<p>​    在任意位置都可以调用并执行操作</p>
<p>路径的写法【一定由根目录 / 写起】</p>
<p>相当路路径：</p>
<p>只能在某个特定的环境或者目录下才能执行的操作</p>
<p>路径的写法【不是由 / 写起】。相对路径意指【相对目前工作的路径】</p>
<h4 id="_8">用户、组与权限管理</h4>
<p>用户  UID /etc/passwd /etc/shadow</p>
<p>组   GID /etc/group  /etc/gshadow </p>
<p>从命令行查看权限       ls -l</p>
<p>创建用户                  useradd  </p>
<p>创建组               groupadd</p>
<p>更改文件所有权         chown</p>
<p>更改组所有权          chmod</p>
<p>权限赋予              sudo</p>
<h4 id="_9">用户管理</h4>
<p>添加用户 useradd</p>
<p>删除用户 userdel -r</p>
<p>锁定用户 passsd -l</p>
<p>用户属性 usermod</p>
<p>当前用户 id</p>
<p>----------------------------------------------------------------------</p>
<h4 id="_10">当前登录用户</h4>
<p>执行W命令可以确定当前那些用户可以登陆系统</p>
<p>输出信息中各列含义：</p>
<p>User:字段当前登录系统的用户名</p>
<p>TTY字段显示分配给用户会话的终端。ttyX表示在控制台登录，pts/X和ttypX表示网络连接</p>
<p>FROM字段表示远程登陆的主机的IP地址</p>
<p>login@字段表示登录用户的本地起始时间</p>
<p>Idle:字段显示最近一个进程运行开始算起的时间长度</p>
<p>jcpu字段显示在该控制台或网络连接的全部进程所用的时间</p>
<p>Pcpu字段显示what栏中当前进程使用的处理器时间</p>
<p>what字段显示用户正在运行的进程</p>
<p>[root@localhost etc]# w</p>
<p>11:06:35 up 7:16, 2 users, load average: 0.00, 0.01, 0.05</p>
<p>USER   TTY   FROM  LOGIN@  IDLE   JCPU  PCPU  WHAT</p>
<p>root   :0     :0      Fri16    ?xdm?  3:24   0.32s  /usr/libexec/gnome-session-binary --session gnome-classic</p>
<p>root   pts/0  :0      Sat10    3.00s   0.85s  0.02s  w</p>
<p>-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</p>
<h4 id="_11">端口开放情况：</h4>
<p>Netstat -pan命令查看当前开放的端口</p>
<p>Losf -I 显示进程和端口对应关系</p>
<p>使用命令ps -aux查看进程</p>
<p>服务信息：</p>
<p>用chkconfig --list查看服务启动信息</p>
<p>各服务的启动脚本存放在/etc/init.d/和/etc/xinetd.d目录下</p>
<p>此输出仅显示SysV服务，不包括本机服务</p>
<p>系统服务。SysV配置数据可能被本机系统配置。</p>
<p>如果要列出systemd服务，请使用“systemctl list unit files”。</p>
<p>查看在特定目标使用上启用的服务</p>
<p>'systemctl list dependencies[target]'。</p>
<p>-------------------------------------------------------------------------------------------------------------------------------------</p>
<h4 id="_12">常规安全配置</h4>
<p>重要目录和文件权限</p>
<p>操作目的：</p>
<p>合理配置重要目录和文件的权限，增强安全性</p>
<p>检查方法：</p>
<p>使用命令 “ls -l”查看目录和文件的权限设置情况</p>
<p>加固方法：</p>
<p>对于重要目录，建议执行如下类似操作：</p>
<p>Chmod -R 750 /etc/rc.d/init.d/*</p>
<p>这样只有root可以读、写和执行这个目录下的脚本</p>
<p>-------------------------------------------------------------------------------------------------------------------------------------</p>
<h4 id="umask">Umask</h4>
<p>Linux umask命令指定在建立文件时预设的权限掩码。</p>
<p>umask可用来设定[权限掩码]。[权限掩码]是由3个八进制的数字所组成，将现有的存取权限减掉权限掩码后，即可产生建立文件时预设的权限。</p>
<p>操作目的：设置默认的umask值，增强安全性</p>
<p>检查方法：使用命令“umask”查看默认的umask值是否为027</p>
<p>加固方法：使用命令“vi /etc/profile”修改配置文件，添加行“umask 027”，即新创建的文件属主读写执行权限，同组用户读和执行权限，其他用户无权限，使命令"umask 027"应用设置</p>
<h4 id="bash">bash历史命令</h4>
<p>操作目的：设置Bash保留历史命令的条数</p>
<p>检查方法：使用命令“cat /etc/profile|grep HISTSIZE=“和"cat /etc/profile|grep HISTFILESIZE="查看保留历史明亮的条数</p>
<p>加固方法：使用命令"vi /etc/profile"修改配置文件，修改HISTSIZE=5和HISFILESIZE=5即保留最新执行的5条命令</p>
<h4 id="_13">登录超时：</h4>
<p>操作目的：设置系统登录后，连接超时时间，增强安全性</p>
<p>检查方法：使用命令 "cat /etc/profile |grep TMOUT"查看TMOUT是否被设置</p>
<p>加固方法：</p>
<p>使用命令"vi /etc/profile"修改配置文件，添加"TMOUT=" 行开头的注释，设置为“TMOUT=180”,即超时时间为3分钟</p>
<h4 id="root">Root路径：</h4>
<p>操作目的：检查系统root用户环境变量path设置中是否包含" . "</p>
<p>检查方法：root用户环境变量path中不应该包含当前目录"."</p>
<p>以root身份执行以下命令：</p>
<p>echo $PATH</p>
<p>/usr/local/sbin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin:.</p>
<p>加固方法：使用命令 vi /etc/profile ,修改echo $PATH后面的路径</p>
<h4 id="_14">禁用无用账号：</h4>
<p>操作目的：减少系统无用账号，降低风险</p>
<p>检查方法：使用命令“cat /etc/passwd”查看口令文件，与系统管理员确认不必要账号</p>
<p>FTP等服务账号，如果不需要登录系统，shell应该/sbin/nologin</p>
<p>加固方法：使用命令“passwd -l &lt;用户名&gt;”锁定不必要的账号</p>
<p>账号策略：</p>
<p>操作目的：放置口令暴力破解</p>
<p>检查方法：使用命令"cat /etc/pam.d /system-auth"查看配置文件</p>
<p>加固方法：设置连续输出10次密码，账号锁定5分钟，使用命令</p>
<p>"vi /etc/pam.d/ system-auth"修改配置文件，添加auth required pam_tally.so onerr=fail deny=10 unlock_time=300 </p>
<h4 id="_15">检查特殊账号：</h4>
<p>操作目的：查看空口令和root权限账号</p>
<p>检查方法：使用命令"awk -F:'($2=="")' /etc/shadow"查看空口令账号</p>
<p>使用命令"awk -F:'($3==0)' /etc/passwd" 查看UID为0的账号</p>
<p>加固方法：使用命令 “passwd &lt;用户名&gt;”为空口令账号设定密码</p>
<p>UID为0的账号应该只有root，设置UID方法：</p>
<p>usermod -u UID &lt;用户名&gt;</p>
<p>口令周期策略</p>
<p>操作目的：加强口令的复杂度等，降低被猜解的可能性</p>
<p>检查方法：使用命令"cat /etc/login.defs|grep PASS"和"cat /etc/pam.d/system-auth"查看密码策略设置</p>
<p>加固方法：使用命令:“vi /etc/login.defs”修改配置文件</p>
<p>PASS_MAX_DAYS 90  #新建用户密码最常使用天数</p>
<p>PASS_MIN_DAYS 0   #新建用户密码最短使用时间</p>
<p>PASS_WARN_AGE 7  #新建用户密码到期提前提示天数</p>
<p>使用chage命令修改用户设置，例如：</p>
<p>chage -m 0 -M 30 -E 2000-01-01 -W 7 &lt;用户名&gt;</p>
<p>表示：将此用户的密码最长使用天数设为30，最短使用天数设为0，账号200年1月1日过期天，过期前7里警告用户</p>
<h4 id="_16">口令复杂度策略</h4>
<p>操作目的：加强口令的复杂度等，降低被猜解的可能性</p>
<p>检查方法：使用命令"cat /etc/pam.d/system-auth | grep pam_cracklib.so"查看密码复杂度策略设置</p>
<p>加固方法：</p>
<p>建议在/etc/pam.d/system-auth文件中配置：</p>
<p>password requisite pam_cracklib.so difok=3 minlen=8 ucredit=-1 lcredit=-1 dcredit=-1</p>
<p>至少8位，包含一位大写字母，一位小写字母和一位数字</p>
<h4 id="root_1">限制root远程登录</h4>
<p>操作目的：限制root远程telnet登录</p>
<p>检查方法：使用命令"cat /etc/securetty | grep CONSOLE" 查看是否禁止root远程登录</p>
<p>加固方法：vi编辑/etc/securetty文件，配置：CONSOLE=/dev/tty01</p>
<h4 id="su">限制用户su</h4>
<p>操作目的：检查是否使用PAM认证模块禁止wheel组之外的用户su为root</p>
<p>检查方法：使用命令"cat /etc/pam.d/su | grep pam_wheel.so"查看配置文件，确认是否有相关限制</p>
<p>加固方法：编辑su文件（vi /etc/pam.d....）</p>
<p>​        此处暂缺</p>
<h4 id="grublilo">检查Grub/Lilo密码</h4>
<p>操作目的：查看系统引导管理器是否设置密码</p>
<p>检查方法：使用命令"cat /etc/grub.conf | grep password"查看grub是否设置密码</p>
<p>​         使用命令"cat /etc/lilo.conf | grep password"查看lilo是否设置密码</p>
<p>​      加固方法：vi编辑/etc/grub.conf</p>
<p>​         splashimage这个参数下一行添加：password 密码</p>
<p>​         如果需要md5加密，可以添加一行：password --md5 密码</p>
<p>​         vi编辑/etc/lilo.conf</p>
<p>​         password=密码</p>
<h4 id="snmp">SNMP团体字</h4>
<p>操作目的：如果打开了SNMP协议，snmp团体字设置不能使用默认的团体字</p>
<p>检查方法：查看配置文件cat /etc/snmp/snmpd.conf</p>
<p>加固方法：</p>
<p>vi编辑/etc/snmp/snmpd.conf文件</p>
<p>应禁止使用public、private默认团体字，使用用户自定义的团体字，例如将以下设置中的public替换为用户自定义的团体字：</p>
<p>com2sec notConfigUser default public</p>
<h4 id="_17">弱口令审计</h4>
<p>操作目的：检查系统弱口令</p>
<p>检查方法：#john /etc/shadow --single</p>
<p>​     #john /etc/shadow --wordlist=pass.dic</p>
<p>加固方法：</p>
<p>使用"passwd 用户名"命令为用户设置复杂密码</p>
<h4 id="_18">服务信息</h4>
<p>linux系统的服务/进程</p>
<p>系统守护进程（服务）</p>
<p>服务就是运行在网络服务器上监听用户请求的进程</p>
<p>服务是通过端口号来区分的</p>
<p>常见的服务及其对应的端口</p>
<p>smtp:25</p>
<p>ssl:443</p>
<p>pop3:110</p>
<p>在unix/linux系统中，服务一般通过inetd进程或启动脚本来启动</p>
<p>通过inetd来启动的服务可以通过在/etc/inetd.conf文件进行注释来禁用</p>
<p>通过启动脚本启动的服务可以通过改变脚本名称的方式禁用</p>
<h4 id="ssh">检查SSH服务</h4>
<p>操作目的：对SSH服务进行安全检查</p>
<p>检查方法：使用命令"cat /etc/ssh/sshd_config"查看配置文件</p>
<p>加固方法：使用命令"vi /etc/ssh/sshd_config"编辑配置文件</p>
<p>（1）不允许root直接登录</p>
<p>设置"PermitRootLogin"的值为no</p>
<p>（2）修改SSH使用的协议版本</p>
<p>设置"Protocol"的版本为2</p>
<p>（3）修改允许密码错误次数（默认6次）</p>
<p>​     设置"MaxAuthTries"的值为3</p>
<h4 id="tcp-wrapper">TCP Wrapper</h4>
<p>操作目的：使用TCP Wrapper对libwrap库支持的程序做访问控制</p>
<p>检查方法：使用命令"cat /etc/hosts.allow"和"cat /etc/hosts.deny"查看配置</p>
<p>加固方法：使用命令"vi /etc/hosts.allow"和"vi /etc/hosts.deny"修改配置</p>
<p>vi /etc/hosts.allow，按i进入编辑模式，加入："sshd:IP地址"</p>
<p>vi /etc/hosts.deny，按i进入编辑模式，sshd:ALL（该配置为仅允许特定IP地址访问SSH）</p>
<h4 id="nfs">NFS共享</h4>
<p>操作目的：查看NFS共享</p>
<p>检查方法：使用命令"exportfs"查看NFS输出的共享目录</p>
<p>加固方法：使用命令"vi /etc/exports"编辑配置文件，删除不必要的共享</p>
<h4 id="syslogd">Syslogd认证相关记录</h4>
<p>操作目的：查看所有日志记录</p>
<p>检查方法：#cat /etc/rsyslog.conf | grep authpriv</p>
<p>​     查看是否有authpriv.* /var/log/secure</p>
<p>加固方法：添加相关日志的记录</p>
<p>​     将authpriv设备的任何级别的信息记录到var/log/secure文件中</p>
<h4 id="ctrlaltdel">限制ctrl+alt+del命令</h4>
<p>操作目的：防止误使用ctrl+alt+del重启系统</p>
<p>检查方法：使用命令"cat /etc/inittab | grep ctrlaltdel" 查看输入行是否被注释</p>
<p>加固方法：先使用命令"vi /etc/inittab"编辑配置文件，在行开头添加注释符号"#"</p>
<p>#ca::ctrlaltdel:/sbin/shutdown -t3 -r now，再使用命令"init q"应用设置</p>
<h4 id="_19">服务/进程安全</h4>
<h5 id="_20">关闭不必要的服务：</h5>
<p>1、使用命令"who -r"查看当前init级别</p>
<p>2、使用命令"chkconfig --list &lt;服务名&gt;"查看所有服务的状态</p>
<p>3、使用命令"chkconfig --level <init级别>&lt;服务名&gt; on|off|reset"设置服务在各init级别下开机是否启动</p>
<p>userdel -r 删除用户，-r表示在删除时一并将用户的家目录和邮件目录进行删除</p>
<p>/tmp：默认情况下保留10天（240小时），10天后文件将被删除（主要针对普通用户）</p>
<p>/var/tmp：默认保留30天，主要针对系统用户以及超级用户</p>
<p>/var 业务数据存目录，数据恢复概率低，应及时做文件备份</p>
<h4 id="_21">网络配置</h4>
<p>检查网络参数</p>
<p>操作目的：linux中提供了sysctl命令，可调整网络参数</p>
<p>检查方法：使用命令"sysctl -a"查看当前网络参数</p>
<p>加固方法：</p>
<p>使用命令"vi /etc/sysctl.conf"修改配置文件，有选择的添加一下内容</p>
<p>net.ipv4.icmp_echo_ignore_broadcasts=1 #忽略ICMP广播</p>
<p>net.ipv4.icmp_echo_ignore_all=1    #忽略ICMP echo请求</p>
<p>net.ipv4.ip_default_ttl=128      #修改TTL为128</p>
<p>使用命令"sysctl -p"使更改生效</p>
<h4 id="_22">自定义规则</h4>
<p>iptables命令是linux上常用的防火墙软件，是netfilter项目的一部分</p>
<p>命令选项输入顺序：</p>
<p>iptables -t 表名 &lt;-A/I/D/R&gt; 规则链名 [规则号] &lt;-i/o 网卡名&gt; -p 协议名 &lt;-s 源IP/源子网&gt; --sport 源端口 &lt;-d 目标IP/目标子网&gt; --dport 目标端口 -j 动作</p>
<p>参数选项：</p>
<p>-A：向规则链中添加条目</p>
<p>-D：从规则链中删除条目</p>
<p>-i：向规则链中插入条目</p>
<p>-L：显示规则链中已有的条目</p>
<p>-p：指定要匹配的数据包协议类型</p>
<p>-s：指定要匹配的数据包源ip地址</p>
<p>-j&lt;目标&gt;：指定要跳转的目标</p>
<p>-i&lt;网络接口&gt;：指定数据包进入本机的网络接口</p>
<p>-o&lt;网络接口&gt;：指定数据包要离开本机所使用的网络接口</p>
<p>规则链名包括：</p>
<p>input链：处理输入数据包</p>
<p>output链：处理输出数据包</p>
<p>porward链：处理转发数据包</p>
<p>动作包括：</p>
<p>accept：接收数据包</p>
<p>drop:丢弃数据包</p>
<p>redirect:重定向、映射、透明代理</p>
<p>自定义规则</p>
<p>限制进入连接</p>
<p>iptables -A input -i eth0 -s 192.168.10.0/24 -p tcp --dport 22 -j accept</p>
<p>iptables -A input -m state --state ESTABLISHED,ERLATED -j accept</p>
<p>iptables -A input -i eth0 -p tcp --dport 22 -j drop</p>
<p>限制外发连接</p>
<p>iptables -A output -o eth0 -p tcp --syn -j drop</p>
<p>iptables -A output -o eth0 -p udp -j drop</p>
<p>查看规则</p>
<p>iptables -list</p>
<h4 id="_23">日志审计安全</h4>
<p>日志审计</p>
<p>配置rsyslog.conf，启用安全事件日志记录</p>
<p>编辑/etc/rsyslog.conf</p>
<p>配置：</p>
<p>*.err;kern.debug;daemon.notice /var/adm/messages</p>
<p>其中/var/adm/messages为日志文件</p>
<p>ls /var/log</p>
<p>boot.log：该文件记录了系统在引导过程中发生的事件，就是linux系统开机自检过程显示的信息</p>
<p>cron：该日志文件记录crontab守护进程crond所派生的子进程的动作，前面加上用户、登录时间和PID，以及派生出的进程的动作</p>
<p>secure：该日志文件记录与安全相关的信息，包括用户进行的重启，登录等动作</p>
<p>lastlog(重要)：该日志文件记录最近成功登录的事件和最后一次不成功的登录事件，由login生成。在每次用户登录时被查询，该文件是二进制文件，需要使用lastlog命令查看</p>
<p>wtmp(重要)：该日志文件永久记录每个用户登录、注销及系统的启动、停机的事件。last命令就是访问的这个文件</p>
<p>系统日志分分析</p>
<h4 id="message">message日志：</h4>
<p>messages日志位置为 /var/log/messages</p>
<p>messages中记录有运行信息和认证信息，对于追查恶意用户的登录行为有很大帮助</p>
<p>cron日志：</p>
<p>cron日志位置为 /var/log/cron</p>
<p>记录crontab守护进程crond所派生的子进程的动作，前面加上用户、登录时间和PID，以及派生出的进程的动作</p>
<p>secure日志：</p>
<p>ssh登录日志会存储于/var/log/secure中，若日志中出现连续大量的登录错误信息，则可能意味着远程主机在尝试破解ssh登录口令</p>
<p>last日志：</p>
<p>last命令用于查看最近的用户登录情况，last命令读取wtmp内容</p>
<p>lastlog命令，用于查看系统内所有账户最后一次登录信息，该命令读取/var/log/lastlog内容</p>
<h4 id="_24">安全工具</h4>
<h5 id="_25">分析工具</h5>
<p>ps：可查看系统当前运行的进程</p>
<p>locate/find：用于查找指定名称的文件</p>
<p>netstat：列出所有监听端口及这些端口的所有连接者</p>
<p>grep/awk：列出所有包含指定字符串的文件，可以用于查找可以的后门以及webshell文件</p>
<p>strace：对应用的系统调用和信息传递的跟踪结果来对应用进行分析，显示这个进程所作用的所有系统调用。这可以用来判断程序运行的行为</p>
<p>string：通常用来协助分析二进制文件的安全性</p>
<h5 id="grep">grep命令的使用</h5>
<p>查找一句话木马(&lt;?php eval($_post[cmd]);?&gt;)</p>
<p>假设网站的目录为/app/website/，我们需要查看该目录下是否包含该形式的一句话木马文件：</p>
<p>方法1：</p>
<p>$grep -i eval(\$_post /app/website/*</p>
<p>其中-i表示不区分大小写，-r表示搜索指定目录及其子目录</p>
<p>方法2：</p>
<p>$find /app/website/ -type f | xargs grep eval(\$_post</p>
<p>xargs将find搜索出的文件名称变成grep后面需要的参数</p>
<h5 id="_26">弱口令审计</h5>
<p>john the ripper</p>
<p>http://www.openwall.com/john/</p>
<p>#john /etc/shadow --single</p>
<p>#john /etc/shadow --wordlist=pass.dic</p>
<p>Hydra</p>
<p>hydra -l login -P /tmp/passlist 192.168.0.1 ftp</p>
<p>login为要爆破的用户名，passlist为密码字典库</p>
<p>hydra -l login -P passfile 192.168.0.1 smb</p>
<p>login为要破解的用户名，passlist为密码字典库</p>
<h5 id="_27">后门程序检测</h5>
<p>chkrootkit</p>
<p>用于UNIX/Linux的本地rootkit检查工具</p>
<p>http://www.chkrootkit.org/</p>
<p>检查命令：./chkrootkit -q -r /</p>
<h3 id="windows">二、windows系统安全</h3>
<h3 id="window">window系统安全基础</h3>
<h4 id="_28">常用命令</h4>
<p>ver：查看系统版本</p>
<p>hostname：查看主机名</p>
<p>ipconfig /all：查看网络配置</p>
<p>net user：查看用户</p>
<p>netstat -ano：查看开放端口</p>
<p>regedit：打开注册表</p>
<p>eventvwr.msc：打开事件查看器</p>
<p>services.msc：打开系统服务</p>
<p>gpedit.msc：打开组策略编辑器</p>
<p>secpol.msc：打开本地安全策略</p>
<p>lusrmgr.msc：打开本地用户和组</p>
<h4 id="net-user">账号相关命令之net user:</h4>
<p>1、查看账户abc的详细信息：net user abc</p>
<p>2、创建（空密码）[删除]账户abc：net user abc /add [del]</p>
<p>3、创建普通账户abc，密码为123:net user abc 123 /add</p>
<p>4、把abc加入[退出]管理员组：net localgroup administrators abc /add [del]</p>
<p>5、启用[停用]账户abc：net user abc /active:yes[no]</p>
<p>6、新建[删除]组admin：net localgroup admin /add [del]</p>
<p>账号相关命令之whoami:</p>
<p>1、whoami</p>
<p>2、whoami /user</p>
<p>3、whoami /all</p>
<h4 id="_29">账户安全</h4>
<p>windows server：建立隐藏账户</p>
<p>在建立用户账户时，如果在用户名后面加上$符号，就可以建立一个简单的隐藏账户，如“test$”</p>
<p>在字符界面下执行net user命令，就无法查看到这个账户，但是在图形界面的“本地用户和组”中仍然可以看到</p>
<p>黑客在入侵了一台主机后，一般都要想办法给自己留一个后门，而给自己加一个管理员组的账户则是常用的手法。由于带"$"的账户容易被发现，于是一些人就在账户的显示名称上        下功夫，建立一个看起来和系统账户类似的名字来迷惑管理员，如admin、sysadmin、billgates、root等。另外一种方法就是把普通用户组的用户账户提升到管理员组中，    例如把guest账户加入到管理员组中。所以如果我们发现管理员组中多了一个没见过的账户或者是普通用户组的账户以及带$的账户，那我们就应该意识到</p>
<p>电脑可能被入侵了。</p>
<p>1、通过net user命令创建隐藏账号，并将其加入administrators组</p>
<p>2、展开注册表[HKEY_LOCAL_MACHINE\SAM\SAM],默认情况下这个项里没有任何内容，这是因为用户对它没有权限。在这个项的右键菜单里，为adminostrator用户赋予</p>
<p>完全控制权限</p>
<p>3、在[SAM\Domains\Account\Users\Names]项里显示了系统当前存在的所有账户，选中test$，在其右侧有一个名为“默认”，类型为“0x3e9”的键值。其中的“3e9”就是</p>
<p>test$用户SID的结尾，即RID（这里使用十六进制表示）</p>
<p>在[SAM\Domains\Account\Users]里有一个以“3E9”结尾的子项，这两个项里都是存放了用户test$的信息。在这两个项上单机右键，执行“导出”命令，将这两个项的值分别导出成扩展名为.reg的注册表文件</p>
<p>4、然后将test$用户删除，再次刷新注册表，此时上述两个项都没了</p>
<p>5、下面将刚才导出的两个注册表文件重新导入，此时在注册表里就有了test$账户的信息，但无论在命令行还是图形界面都无法看到这个账户，账户就被彻底隐藏了</p>
<p>使用这个隐藏账户可以登录系统，但缺点是仍然会产生用户配置文件，下面再对这个账户做进一步处理，以使之完全隐藏</p>
<p>6、展开到上面的注册表项中，找到administrator用户的RID值“1f4”，展开对应的“000001F4”，其右侧一个名为f的键值，这个键值中就存放了用户的SID。</p>
<p>下面将这个键值的数据全部复制，并粘贴到“000003E9”项的f键值中，也就是将administrator用户的SID复制给了test$，这样在操作系统内部，</p>
<p>实际上就把test$当作是administrator，test$成了administrator的影子账户，与其使用一个用户配置文件，test$也就被彻底隐藏了。</p>
<p>7、通过命令行和本地用户和组查看用户</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
    
  </body>
</html>